{{block "header" .}}
<!DOCTYPE html>
<html>
    <head>
        <script src="https://code.jquery.com/jquery-3.7.0.slim.min.js"></script>
        <script src="https://unpkg.com/htmx.org@1.9.5" integrity="sha384-xcuj3WpfgjlKF+FXhSQFQ0ZNr39ln+hwjN3npfM9VBnUskLolQAcN80McRIVOPuO" crossorigin="anonymous"></script>
        <script src="//cdn.quilljs.com/1.3.6/quill.min.js"></script>
        <link href="//cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.2.96/css/materialdesignicons.min.css">
        <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
        <script src="https://unpkg.com/hyperscript.org@0.9.11"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <style>
            .contenteditable:not(:focus) {
                border: none;
                box-shadow: none;
            }
            .option.field:not(:last-child) {
                margin-bottom: .25rem;
            }
            .question-menu {
                font-size: 1.5em;
            }
            .pointer {
                cursor: pointer;
            }
        </style>
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
{{end}}
        <div class="section">
            <form class="field" hx-post="/survey" hx-target="tbody" hx-swap="beforeend">
                <div class="field has-addons">
                    <div class="control">
                        <input placeholder="A new Amazing Survey" class="input" name="title">
                    </div>
                    <div class="control">
                        <button class="button is-info">Add</button>
                    </div>
                </div>
            </form>
            <table class="table">
                <tbody>
                    <tr>
                        <th>Title</th>
                        <th>Modified</th>
                        <th>Created</th>
                    </tr>
                    {{range .}}
                    {{block "surveyItem" .}}
                    <tr>
                        <td><a href="/survey?surveyId={{.Id}}">{{.Title}}</a></td>
                        <td>{{.Created.Format "2. 1. 2006 15:04" }}</td>
                        <td>{{.Updated.Format "2. 1. 2006 15:04" }}</td>
                        <td><a hx-delete="/survey?surveyId={{.Id}}" hx-target="closest tr" hx-swap="outerHTML" class="has-text-danger">Delete</a></td>
                    </tr>
                    {{end}}
                    {{end}}
                </tbody>
            </table>
        </div>
{{block "footer" .}}
    </body>
</html>
{{end}}